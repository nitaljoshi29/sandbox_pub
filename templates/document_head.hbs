<!--   MAP, author Amy  --> 
   <label class="zd_Hidden" id="map_json">{{asset 'mappublic.json'}}</label>
<!--   MAP, author Amy  --> 
<label class="zd_Hidden" id="helpCenterSwitch">{{dc 'fe_v_helpcenter_switch'}}</label>
<div class="webwidgetsnippet"></div>
<script type="text/javascript">
   //load script function
  jQuery.loadScript = function (url, callback) {
    jQuery.ajax({
        url: url,
        dataType: 'script',
        success: callback,
        async: true
    });
}
//load script function 
  
  
var the_url= window.location.href;  //this is the URL value that can be used in all the functions


var webwidget_class_hide_email = -1;   //create form id with a default value -1
var tag_manager_container = -1;
var webwidget_src = -1;  


    var id_map_data_source="https:"+$("#map_json").html();


 $.getJSON(id_map_data_source, function(data) {  
  
      if (the_url.indexOf("sandbox")!= -1) {
  
  			webwidget_src = data.webwidget_src.sandbox;
        webwidget_class_hide_email = data.webwidget_class_hide_email.sandbox;
  			tag_manager_container = data.tag_manager_container.sandbox;
 			

        		  } else {
  			webwidget_src = data.webwidget_src.prod;
        webwidget_class_hide_email = data.webwidget_class_hide_email.prod;
  			tag_manager_container = data.tag_manager_container.prod;
 			

        }

  

          var webwidgetscript = document.createElement('script');
          webwidgetscript.onload = function() {
  	      };
          webwidgetscript.id = "ze-snippet";
          webwidgetscript.src = webwidget_src;
          document.getElementsByClassName('webwidgetsnippet')[0].appendChild(webwidgetscript);
					$("#ze-snippet").unwrap();
  

      	

			<!-- Start of hiding email and name on webwidget -->       
      var waitForZen = setInterval(function () {
        if (window.$zopim === undefined || window.$zopim.livechat === undefined) {
            return;
        }
  
  

  zE('webWidget:on', 'open', function() {


      var helpCenterSwitch=document.getElementById("helpCenterSwitch").textContent;
  var suppress_setting = true;
  if(helpCenterSwitch === "FALSE"){
  suppress_setting = false;
  }
 

   zE('webWidget', 'updateSettings', {
                         helpCenter: {
                            'suppress': suppress_setting     
                          }
                  }); 
  
  
    
            if (HelpCenter.user.role=="anonymous")     {

                  zE('webWidget', 'updateSettings', {
                       /*   helpCenter: {
                                  'suppress': false
                          },*/
                          contactForm: {
                                  'suppress': true
                          },
                          chat: {
                                  'suppress': true
                          },
                          talk: {
                                  'suppress': true
                          }
                  });
  
  
    var a = document.getElementById('webWidget');
        var frameBody =  a.contentWindow.document.getElementsByTagName("body")[0];
  			 var dc_Homepage_Login= `{{dc 'Homepage_Login'}}`;
  				var loginMSG = document.createElement('p'); 
loginMSG.setAttribute("id", "none_logged_in_reminder");
 				loginMSG.style.position = 'absolute';
  		//		loginMSG.style.bottom = '15px';
  loginMSG.style.textAlign = 'center';
  loginMSG.style.padding = '5%';
  loginMSG.style.color="#df1b12";

  var textnode = document.createTextNode(dc_Homepage_Login); 
  			loginMSG.appendChild(textnode); 
  
  
  

if(suppress_setting == true){
   loginMSG.style.marginTop = '50px';
  frameBody.appendChild(loginMSG); 
 
 // console.log("suppress_setting "+suppress_setting);
  }
  
  
  if(suppress_setting == false){
  
  zE('webWidget:on', 'userEvent', function(event) {
  console.log(event);
  if(event.action == "Help Center Search"){
  
  	loginMSG.style.bottom = '15px';
 	 frameBody.appendChild(loginMSG); 
  
   $("#none_logged_in_reminder").removeClass("zd_Hidden");
 //  console.log("sdhfgkasjh");
  }
  if(vent.action =="Help Center Article Viewed"){
  $("#none_logged_in_reminder").addClass("zd_Hidden");
  }
  });
  
 // console.log("suppress_setting "+suppress_setting);
  }
 
      //  var a = document.getElementById('webWidget');
       // var frameBody =  a.contentWindow.document.getElementsByTagName("body")[0];
  	//		 var dc_Homepage_Login= `{{dc 'Homepage_Login'}}`;
  	//			var loginMSG = document.createElement('p'); 

 	//				loginMSG.style.position = 'absolute';
  	//			loginMSG.style.marginTop = '50px';
  //loginMSG.style.textAlign = 'center';
  //loginMSG.style.padding = '5%';

  //var textnode = document.createTextNode(dc_Homepage_Login); 
  //			loginMSG.appendChild(textnode);  
 //				  
  






  		
           			} //IF cust is logged out end
             
                });                 
         

  
   var chatLocale = HelpCenter.user.locale
  var chat_department="unknown"
  var country_code="unknown"
  
Object.keys(data).forEach((key,index)=>{
  
  if(key==chatLocale){
 
  chat_department=(data[key])[1].chat_department;
  country_code=(data[key])[0].country_code;
 
  }
  }); 
  
	zE('webWidget', 'setLocale', country_code);	

  zE('webWidget:on', 'chat:departmentStatus', function(dept) {
  if (dept.name === chat_department && dept.status === 'online' && chatLocale === country_code ) {  
  zE('webWidget', 'updateSettings', {
    webWidget: {
      chat: {
        departments: {
          enabled: [''],
          select: chat_department
        },
        suppress: false
      }
    }
  });
} else { 
  if (dept.name === chat_department && dept.status !== 'online' && chatLocale === country_code ) {
        
        zE('webWidget', 'updateSettings', {
          webWidget: {
            chat: {
              suppress: true
            }
          }
        });
      } 
  }
}); 
  
  
          clearInterval(waitForZen);
        }, 100);
  
  
  
					<!-- End  of hiding email and name on webwidget -->  
  
          <!-- Google Tag Manager -->  
          (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
          new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
          'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
          })(window,document,'script','dataLayer',tag_manager_container);
          <!-- End Google Tag Manager -->  
  
          }); <!-- End  of json mapping -->  
</script>




<meta content="width=device-width, initial-scale=1.0" name="viewport" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js" integrity="sha256-/H4YS+7aYb9kJ5OKhFYPUjSJdrtV6AeyJOtTkw6X72o=" crossorigin="true"></script>


<!-- <meta name="google-site-verification" content="ljumiUrq9ftUwsIQWi3VTRsv8EtAkpdjzejD-X6V0x0" /> -->
<meta name="google-site-verification" content="RwaPYuP6P4uhBt-5lwuPIKYfdf6nP9AgxV7mg6_Gi0k" /> 


